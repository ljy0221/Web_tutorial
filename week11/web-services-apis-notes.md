# 웹 서비스와 API - 학습 노트

## 서비스와 API란 무엇인가?

서비스는 프로젝트/웹사이트에서 사용할 수 있는 기능입니다:
- Axios나 Express와 같은 패키지
- Google Maps API
- Google Analytics
- Stripe Payments

이들은 API(Application Programming Interface)를 통해 코드 내에서 접근할 수 있는 "액션" 또는 "엔드포인트"를 제공합니다.

## 웹 서비스/API vs 웹사이트

| 웹사이트 | 웹 서비스/API |
|----------|-------------------|
| HTML 페이지 표시("렌더링")에 관한 것 | 데이터 교환 및 특정 액션 수행에 관한 것 |
| 응답은 HTML 코드를 포함 | 응답은 (JSON) 데이터를 포함 |

## 서비스/API를 사용하는 이유

- 웹 개발자로서 모든 기능을 직접 만들 수 없음
- 유료 또는 무료 타사 서비스/API를 사용하여 앱에 특정 기능 추가
- 대안: 다른 사람이 사용할 수 있는 서비스/API 구축

## 웹 서비스를 구축해야 하는 경우

**다른 사람에게 서비스 제공:**
- 서비스 자체가 아닌 서비스 판매/광고를 위한 웹사이트가 필요할 수 있음
- 서비스는 API를 통해 고객에게 제공됨

**자체 웹사이트/앱을 위해:**
- 프론트엔드와 백엔드(의 일부)를 분리하고 싶을 수 있음
- 모바일 앱의 경우 HTML/CSS가 없음 - Android/iOS 프론트엔드를 구축하여 백엔드 API에 연결
- 대규모 팀에서의 작업을 단순화하고 다양한 클라이언트 연결을 단순화함

## JavaScript 패키지 vs URL 기반 API

| JavaScript 패키지 | URL 기반 API |
|-------------------|---------------|
| URL 기반 API와 통신할 수 있음 | |
| 특정 함수, 객체, 메서드 등을 노출 | "엔드포인트"(URL + HTTP 메서드)를 통해 특정 "액션"을 노출 |
| 프론트엔드 빌드 도구와 npm의 도움으로 구축 | 다른 URL로 보내는 요청이 다른 액션과 응답을 트리거 |
| 주로/전적으로 웹 개발 기술이 필요하지 않음 | 웹 개발 기술이 필요하며 이미 이러한 API를 구축했음! |

## REST API - Representational State Transfer

URL 기반 서비스 및 API를 구축하는 가장 일반적/인기 있는 형태입니다.

**핵심 아이디어:** API "엔드포인트"는 URL + HTTP 메서드 조합입니다.

예: `GET /cars` - 사용 가능한 자동차 목록을 반환

### REST와 API 메서드

| HTTP 메서드 | URL/경로 | 액션/응답 데이터 |
|-------------|----------|----------------------|
| GET | /cars | 자동차 목록 검색 및 반환 |
| POST | /rental | 렌탈 요청 생성 및 저장, 응답 반환 |
| PUT | /rental/:id | 기존 렌탈 데이터 덮어쓰기 |
| PATCH | /users/:id | 기존 사용자 데이터 업데이트 |
| DELETE | /rental/:id | 렌탈 요청/주문 삭제(취소) |

### 백엔드 코드가 중요합니다!

- HTTP 메서드 + URL/경로는 특정 엔드포인트를 대상으로 사용됨
- 백엔드 코드(라우트)는 제공되는 엔드포인트와 수신 요청에 따라 어떤 일이 발생하는지 정의함
- GET /cars에서 사용자를 삭제하는 코드를 작성할 수 있지만(의미가 없고 좋은 API/서비스가 아님)

## REST API는 "상태 비저장"입니다

**상태**: 특정 클라이언트에 매핑되고 서버에서 요청 간에 유지되는 데이터

- REST API는 서버에 클라이언트 매핑 데이터를 저장하지 않음
- 들어오는 모든 요청은 독립적으로 처리됨

## API 예시

### 간단한 "일일 명언" (웹) 서비스
- `GET /quote` - (무작위) 명언 검색 및 반환
- 명언 데이터는 서비스 소유자가 직접 제공함(다른 API를 통해 또는 직접 데이터베이스 쿼리로)

### 간단한 할 일 관리 (웹) 서비스
- `GET /todos` - 할 일 목록 검색 및 반환
- `POST /todos` - 새 할 일 생성 및 저장(성공 응답 반환)
- `PATCH /todos/:id` - 기존 할 일 업데이트(예: 텍스트 변경)
- `DELETE /todos/:id` - 기존 할 일 삭제

## REST API 대안

REST는 웹 API를 구축하기 위한 패턴일 뿐입니다. 대안으로는:
- SOAP API
- GraphQL API
